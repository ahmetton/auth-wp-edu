# ุฏูุฌ ูุธุงู ุงููุตุงุฏูุฉ ุงูุงุญุชุฑุงูู ูุน WordPress

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฏูุฌ ูุธุงู ุงููุตุงุฏูุฉ ุงูุงุญุชุฑุงูู ุงููุจูู ุจู Next.js ูุน ูููุน WordPress ุงูุฎุงุต ุจู. ุงูุขู ุนูุฏูุง ูููุฑ ุงููุณุชุฎุฏููู ุนูู ุฑูุงุจุท ุงูุชุณุฌูู ูู WordPressุ ุณูุชู ุชูุฌูููู ุชููุงุฆูุงู ุฅูู ุตูุญุฉ ุงูุชุณุฌูู ุงูุงุญุชุฑุงููุฉ.

## โ ูุง ุชู ุชูููุฐู

### 1. ููู ุงูุชูุงูู ุงูุฌุฏูุฏ
ุชู ุฅูุดุงุก ููู: `/v/ุงูุฅุถุงูุฉ/includes/nextjs-auth-integration.php`

ูุฐุง ุงูููู ูููู ุจู:
- โ ุฅุนุงุฏุฉ ุชูุฌูู ุฌููุน ุฑูุงุจุท ุงูุชุณุฌูู ูู WordPress ุฅูู Next.js
- โ ุชุญุฏูุซ ุฏุงูุฉ `register_url()` ููุฅุดุงุฑุฉ ุฅูู ูุธุงู ุงููุตุงุฏูุฉ ุงูุฌุฏูุฏ
- โ ุงุนุชุฑุงุถ ูุญุงููุงุช ุงููุตูู ุฅูู `wp-login.php?action=register`
- โ ุชุญุฏูุซ ุตูุญุฉ `/register/` ุชููุงุฆูุงู ูุฅุนุงุฏุฉ ุงูุชูุฌูู

### 2. ุชุญุฏูุซ ุงูุฅุถุงูุฉ
ุชู ุชุนุฏูู: `/v/ุงูุฅุถุงูุฉ/wp-edu-lms.php`
- ุชู ุชุญููู ููู ุงูุชูุงูู ุชููุงุฆูุงู

## ๐ง ุงูุชูููู

### ุฎุทูุฉ 1: ุชุญุฏูุฏ ุนููุงู URL ูุชุทุจูู ุงููุตุงุฏูุฉ

ุงูุชุญ ุงูููู: `/v/ุงูุฅุถุงูุฉ/includes/nextjs-auth-integration.php`

ุงุจุญุซ ุนู ูุฐุง ุงูุณุทุฑ (ุงูุณุทุฑ 13):
```php
define( 'WPEDU_AUTH_APP_URL', 'http://localhost:3000' );
```

**ููุชุทููุฑ ุงููุญูู:**
```php
define( 'WPEDU_AUTH_APP_URL', 'http://localhost:3000' );
```

**ููุฅูุชุงุฌ (ููุณ ุงููุทุงู):**
```php
define( 'WPEDU_AUTH_APP_URL', 'https://yourdomain.com/auth' );
```

**ููุฅูุชุงุฌ (ูุทุงู ูุฑุนู):**
```php
define( 'WPEDU_AUTH_APP_URL', 'https://auth.yourdomain.com' );
```

### ุฎุทูุฉ 2: ุชุดุบูู ุชุทุจูู Next.js

ูู Terminalุ ููุฐ:
```bash
cd auth-app
npm install
npm run prisma:push
npm run dev
```

ุงูุชุทุจูู ุณูุนูู ุนูู: http://localhost:3000

### ุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุงูุชูุงูู

1. ุงูุชุญ ูููุน WordPress ุงูุฎุงุต ุจู
2. ุงููุฑ ุนูู ุฃู ุฑุงุจุท "ุชุณุฌูู" ุฃู "Sign Up"
3. ูุฌุจ ุฃู ูุชู ุชูุฌููู ุฅูู ุตูุญุฉ ุงูุชุณุฌูู ุงูุงุญุชุฑุงููุฉ

## ๐ฑ ููู ูุนูู

### ุนูุฏ ุงูููุฑ ุนูู ุฑุงุจุท ุงูุชุณุฌูู:
```
WordPress ุฑุงุจุท ุงูุชุณุฌูู
    โ
ุชู ุงุนุชุฑุงุถู ุจูุงุณุทุฉ nextjs-auth-integration.php
    โ
ุฅุนุงุฏุฉ ุชูุฌูู ุฅูู http://localhost:3000/auth/signin
    โ
ุงููุณุชุฎุฏู ูุฑู ุตูุญุฉ ุงูุชุณุฌูู ุงูุงุญุชุฑุงููุฉ
```

### ุงูููุฒุงุช:
- โ **ุชููุงุฆู**: ูุง ูุญุชุงุฌ ุงููุณุชุฎุฏููู ููุนู ุฃู ุดูุก ุฎุงุต
- โ **ุญูุธ ุงููุณุงุฑ**: ูุชู ุญูุธ `redirect_to` ูุฅุนุงุฏุฉ ุงููุณุชุฎุฏู ุจุนุฏ ุงูุชุณุฌูู
- โ **ุตุฏูู ููุญุฑูุงุช ุงูุจุญุซ**: ุงุณุชุฎุฏุงู ุฅุนุงุฏุฉ ุชูุฌูู 302 ุขููุฉ
- โ **ูุงุจู ููุชูููู**: ุณูู ุงูุชุจุฏูู ุจูู ุงูุชุทููุฑ ูุงูุฅูุชุงุฌ

## ๐ ูุดุฑ ููุฅูุชุงุฌ

### ุงูุฎูุงุฑ 1: ูุดุฑ ูููุตู
1. ุงูุดุฑ WordPress ุนูู: `https://yourdomain.com`
2. ุงูุดุฑ Next.js ุนูู: `https://auth.yourdomain.com`
3. ุญุฏุซ `WPEDU_AUTH_APP_URL` ูู ููู ุงูุชูุงูู

### ุงูุฎูุงุฑ 2: ูุดุฑ ุนูู ููุณ ุงูุฎุงุฏู
1. ุงูุดุฑ WordPress ุนูู: `https://yourdomain.com`
2. ุงุณุชุฎุฏู reverse proxy (nginx/Apache) ูุชูุฌูู `/auth/*` ุฅูู Next.js
3. ุญุฏุซ `WPEDU_AUTH_APP_URL` ุฅูู `https://yourdomain.com/auth`

### ุงูุฎูุงุฑ 3: ุงุณุชุฎุฏุงู Vercel/Netlify
1. ุงูุดุฑ Next.js ุนูู Vercel
2. ุงุญุตู ุนูู URL (ูุซู: `https://auth-app.vercel.app`)
3. ุญุฏุซ `WPEDU_AUTH_APP_URL` ูู ููู ุงูุชูุงูู

## ๐ ุงูุฃูุงู

### ููุงุท ูููุฉ:
- โ ุชุฃูุฏ ูู ุชุญุฏูุซ `NEXTAUTH_SECRET` ูู ุงูุฅูุชุงุฌ
- โ ุงุณุชุฎุฏู HTTPS ููุฅูุชุงุฌ
- โ ุชูููู CORS ุจุดูู ุตุญูุญ ุฅุฐุง ูุงู ุนูู ูุทุงู ูุฎุชูู
- โ ุชุฃูุฏ ูู ุชุทุงุจู OAuth redirect URLs

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ ููุฅูุชุงุฌ:
ูู `/auth-app/.env`:
```env
NEXTAUTH_URL="https://auth.yourdomain.com"
NEXTAUTH_SECRET="your-production-secret-here"
DATABASE_URL="postgresql://..." # ุงุณุชุฎุฏู PostgreSQL ููุฅูุชุงุฌ
```

## ๐ ูุฒุงููุฉ ุงููุณุชุฎุฏููู (ุงุฎุชูุงุฑู)

ุญุงููุงูุ ูุธุงู Next.js ูุณุชูู ุชูุงูุงู. ุฅุฐุง ุฃุฑุฏุช ูุฒุงููุฉ ุงููุณุชุฎุฏููู ุจูู WordPress ูNext.js:

### ุงูุฎูุงุฑ ุฃ: ุงุณุชุฎุฏุงู ููุณ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ูููู Prisma ููุงุชุตุงู ุจูุงุนุฏุฉ ุจูุงูุงุช WordPress
- ุนุฏูู schema ูุงุณุชุฎุฏุงู ุฌุฏุงูู WordPress

### ุงูุฎูุงุฑ ุจ: ูุฒุงููุฉ ุนุจุฑ API
- ุฃูุดุฆ webhook ูู Next.js ูุฅูุดุงุก ูุณุชุฎุฏู WordPress
- ุงุณุชุฎุฏู WordPress REST API

### ุงูุฎูุงุฑ ุฌ: SSO (Single Sign-On)
- ุงุณุชุฎุฏู NextAuth ูู OAuth provider
- ูููู WordPress ูููุตุงุฏูุฉ ุนุจุฑ Next.js

## โ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ูุชู ุงูุชูุฌูู
**ุงูุญู:**
1. ุชุฃูุฏ ูู ุชูุนูู ุงูุฅุถุงูุฉ ูู WordPress
2. ุชุญูู ูู ุฃู ุชุทุจูู Next.js ูุนูู
3. ุชุญูู ูู `WPEDU_AUTH_APP_URL` ูู ููู ุงูุชูุงูู

### ุงููุดููุฉ: ุตูุญุฉ ูุงุฑุบุฉ ุจุนุฏ ุงูุชูุฌูู
**ุงูุญู:**
1. ุชุญูู ูู ุฃู Next.js ูุนูู ุนูู ุงููููุฐ ุงูุตุญูุญ
2. ุงูุชุญ console ุงููุชุตูุญ ููุฃุฎุทุงุก
3. ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ูุดุงูู CORS

### ุงููุดููุฉ: ุญููุฉ ุชูุฌูู ูุง ููุงุฆูุฉ
**ุงูุญู:**
- ุชุญูู ูู ุฃู `WPEDU_AUTH_APP_URL` ูุง ูุดูุฑ ุฅูู WordPress ููุณู

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฃุณุฆูุฉุ ุงูุชุญ issue ูู ุงููุณุชูุฏุน.

## ๐ ููุงุญุธุงุช

- ูุธุงู ุงููุตุงุฏูุฉ Next.js ูุณุชูู ุชูุงูุงู ููุง ูุคุซุฑ ุนูู ุจูุงูุงุช WordPress
- ูููู ุชุดุบูู ุงููุธุงููู ุฌูุจุงู ุฅูู ุฌูุจ
- ุณูู ุงูุนูุฏุฉ ูููุธุงู ุงููุฏูู ุจุญุฐู ุฃู ุชุนุทูู ููู ุงูุชูุงูู
